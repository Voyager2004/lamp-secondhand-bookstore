# Secondhand Book Trading Web App

æ ¡å›­äºŒæ‰‹ä¹¦äº¤æ˜“ç½‘ç«™ â€”â€” åŸºäº **LAMP**ï¼ˆLinuxÂ +Â ApacheÂ +Â MySQLÂ +Â PHPï¼‰æ­å»ºçš„è¯¾ç¨‹é¡¹ç›®ã€‚

> **ç›®æ ‡**ï¼šæ¼”ç¤ºä»éœ€æ±‚åˆ†æ â†’ æ•°æ®åº“è®¾è®¡ â†’ Web å®ç° â†’ éƒ¨ç½²ä¸Šçº¿çš„å®Œæ•´æµç¨‹ï¼Œä¾›ã€Šæ•°æ®åº“ç³»ç»ŸåŸç†ã€‹å®éªŒæŠ¥å‘Šä¸è¯¾å ‚æ¼”ç¤ºä½¿ç”¨ã€‚

---

## âœ¨Â åŠŸèƒ½æ¦‚è§ˆ

| æ¨¡å—   | è¯´æ˜                                                     |
| ---- | ------------------------------------------------------ |
| è®¿å®¢æµè§ˆ | é¦–é¡µå±•ç¤ºæ‰€æœ‰ *åœ¨å”®* å›¾ä¹¦ï¼Œå¯æŒ‰å…³é”®è¯ï¼ˆä¹¦å/ä½œè€…ï¼‰æœç´¢                          |
| ç”¨æˆ·è®¤è¯ | æ³¨å†Œ / ç™»å½• / é€€å‡ºï¼ˆSession ç»´æŒï¼‰                               |
| å‘å¸ƒå›¾ä¹¦ | ç™»å½•åå¯å¡«å†™è¡¨å•å‘å¸ƒæ–°ä¹¦ï¼Œæ”¯æŒåº“å­˜æ•°é‡                                    |
| ä¸ªäººä¸­å¿ƒ | æŸ¥çœ‹è‡ªå·±å‘å¸ƒçš„ä¹¦ç›® & åŸºæœ¬èµ„æ–™                                       |
| æ•°æ®åº“å±‚ | `user`, `book`, `order`, `order_item`, `message` äº”å¼ æ ¸å¿ƒè¡¨ |

> **å®éªŒèŒƒå›´**ï¼šå½“å‰ç‰ˆæœ¬ä¾§é‡ *å‘å¸ƒ / æ£€ç´¢* ä¸»çº¿ï¼›ä¸‹å•ã€è®¢å•æµè½¬ã€å›¾ç‰‡ä¸Šä¼ ç­‰ä¿ç•™æ¥å£å ä½ã€‚

---

## ğŸ—‚ï¸Â ç›®å½•ç»“æ„

```text
secondhand/
â”œâ”€ config/db.php            # PDO æ•°æ®åº“é…ç½®
â”œâ”€ schema.sql               # MySQL å»ºè¡¨è„šæœ¬
â”œâ”€ public/                  # Apache DocumentRoot
â”‚  â”œâ”€ index.php             # é¦–é¡µ + æœç´¢
â”‚  â”œâ”€ login.php / register.php
â”‚  â”œâ”€ book_create.php       # å‘å¸ƒå›¾ä¹¦è¡¨å•
â”‚  â”œâ”€ dashboard.php         # ä¸ªäººä¸­å¿ƒ
â”‚  â””â”€ logout.php
â””â”€ src/                     # é¢„ç•™ä¸šåŠ¡æ¨¡å—ï¼ˆMVC å¯æ‰©å±•ï¼‰
```

---

## âš™ï¸Â éƒ¨ç½²æ­¥éª¤

> ä»¥ä¸‹å‘½ä»¤ä»¥ **UbuntuÂ 22.04** ä¸ºä¾‹ï¼Œé»˜è®¤ä½¿ç”¨ `root` ssh ç™»å½•ã€‚

```bash
# 1. å®‰è£… LAMP
apt update && apt install -y apache2 mysql-server php php-mysql php-intl php-xml php-mbstring git unzip

# 2. å…‹éš†/ä¸Šä¼ é¡¹ç›®
cd /var/www/html
git clone <repo> secondhand         # æˆ– scp secondhand.zip â€¦

# 3. è°ƒæ•´æƒé™
chown -R www-data:www-data secondhand

# 4. é…ç½®è™šæ‹Ÿä¸»æœºï¼ˆ/etc/apache2/sites-available/secondhand.confï¼‰
<VirtualHost *:80>
  DocumentRoot /var/www/html/secondhand/public
  <Directory "/var/www/html/secondhand/public">
    AllowOverride All
    Require all granted
  </Directory>
</VirtualHost>
a2ensite secondhand.conf && systemctl reload apache2

# 5. åˆå§‹åŒ–æ•°æ®åº“
mysql -u root -p <<'SQL'
CREATE DATABASE IF NOT EXISTS secondhand DEFAULT CHARSET utf8mb4;
CREATE USER IF NOT EXISTS 'lampuser'@'localhost' IDENTIFIED WITH mysql_native_password BY 'strong_pass';
GRANT ALL ON secondhand.* TO 'lampuser'@'localhost';
FLUSH PRIVILEGES;
SQL

mysql -u lampuser -p secondhand < /var/www/html/secondhand/schema.sql
```

> æ‰“å¼€æµè§ˆå™¨è®¿é—® `http://<server-ip>/` å³å¯è¿›å…¥é¦–é¡µã€‚

---

## ğŸš€Â å¿«é€Ÿä½¿ç”¨

1. **æ³¨å†Œè´¦å·** â†’ ç™»å½•
2. ç‚¹å‡» **å‘å¸ƒå›¾ä¹¦** å¡«å†™ä¿¡æ¯åæäº¤
3. å›åˆ°é¦–é¡µå¯çœ‹åˆ°æ–°ä¹¦ï¼›é¡¶éƒ¨æœç´¢æ¡†å¯æŒ‰å…³é”®è¯è¿‡æ»¤
4. ä¸ªäººä¸­å¿ƒæŸ¥çœ‹ *æˆ‘çš„å‘å¸ƒ*ï¼Œå¯æ‰©å±•ä¿®æ”¹/ä¸‹æ¶åŠŸèƒ½

---

## ğŸ”’Â å®‰å…¨è¦ç‚¹

* æ‰€æœ‰ SQL é‡‡ç”¨ **PDO é¢„å¤„ç†**ï¼Œé¿å…æ³¨å…¥
* ç™»å½•å¯†ç ä½¿ç”¨ `password_hash()` / `password_verify()`ï¼ˆbcryptï¼‰åŠ å¯†å­˜å‚¨
* å‘å¸ƒ/ç™»å½•è¡¨å•å« CSRF Tokenï¼ˆTODOï¼šå¾…å®ç°ï¼‰
* ä¸Šä¼ æ–‡ä»¶æ—¶åº”åš MIME æ£€æµ‹ + ç”Ÿæˆéšæœºæ–‡ä»¶åï¼ˆç•™ç©ºå¾…æ‰©å±•ï¼‰

---

## ğŸ—ºï¸Â Roadmap

* [ ] ä¸‹å• & è®¢å•æµè½¬ï¼šè´­ç‰©è½¦ã€æ”¯ä»˜å ä½æµç¨‹
* [ ] å›¾ç‰‡ä¸Šä¼ ï¼šä¹¦ç±å°é¢å­˜å‚¨è‡³ `uploads/`
* [ ] åå°ç®¡ç†ï¼šç®¡ç†å‘˜å®¡æ ¸ã€æŠ¥è¡¨ç»Ÿè®¡
* [ ] å•å…ƒæµ‹è¯• & CIï¼šGitHubÂ Actions è‡ªåŠ¨éƒ¨ç½²åˆ°äº‘ä¸»æœº
* [ ] Docker Composeï¼šä¸€é”®å¯åŠ¨ LAMP + phpMyAdmin

---

## ğŸ“„Â License

æœ¬ç¤ºä¾‹ä»…ä¾›æ•™å­¦ä¸å®éªŒä½¿ç”¨ï¼ŒæŒ‰ MIT è®¸å¯è‡ªç”±ä¿®æ”¹ã€ä¼ æ’­ã€‚
